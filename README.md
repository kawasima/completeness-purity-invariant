# Completeness, Purity, Invariant for Domain Models

## Completeness, Purity

ドメインモデルが完全であることと、ドメインモデルが純粋であることにはトレードオフがあり、両立が難しい場合がある。


## Invariant

注文を配送状態にする処理である。
注文の配送処理時に、配送先住所と配達日時が渡され、注文が更新される。

注文によっては、制約として「日本国内配送のみ」「土日配送不可」のものがあり、この制約に抵触しないかをビジネスルールとチェックして、配送処理を行うものとする。

実装のパターンとしては、
1. 注文(Order)にバリデーションメソッドを実装し、配送処理前にそれをコールする。
2. 注文の配送処理前にアプリケーション
3. 配送処理の中で、ビジネスルールのチェックを同時に行う。

が考えられる。ここにそれぞれのパターンを比較のために実装している。

ここで、外部のサービスを使って「郵便番号、住所が実在するものでなくてはならない」というビジネスルールを加えたとしよう。
これは、注文集約の外に依存するので、前述の完全性と純粋性が両立できないケースになる。このとき、どう実装したらよいだろうか?


## LICENSE
